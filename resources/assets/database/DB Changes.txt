
# 20-11-2017

# CREATE TABLE `messages` (
 `id` int(11) NOT NULL AUTO_INCREMENT,
 `agent_id` int(11) NOT NULL COMMENT 'Agent id to associate the message with the agent',
 `message` text NOT NULL,
 `status` enum('0','1','2') NOT NULL COMMENT '0: Inactive, 1: Active, 2: Deleted',
 `created_at` datetime NOT NULL,
 `created_by` int(11) NOT NULL,
 `updated_at` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
 `updated_by` int(11) DEFAULT NULL,
 PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=latin1

# CREATE TABLE `email_templates` (
 `id` int(11) NOT NULL AUTO_INCREMENT,
 `template_name` varchar(50) NOT NULL,
 `template_content` text NOT NULL,
 `status` enum('0','1','2') NOT NULL COMMENT '0: Inactive, 1: Active, 2: Deleted',
 `created_at` datetime NOT NULL,
 `created_by` int(11) NOT NULL,
 `updated_at` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
 `updated_by` int(11) DEFAULT NULL,
 PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1

# CREATE TABLE `user_email_template` (
 `agent_id` int(11) NOT NULL,
 `email_template_id` int(11) NOT NULL,
 KEY `agent_id` (`agent_id`,`email_template_id`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1

# ALTER TABLE `users` ADD `country_id` INT NULL AFTER `postalcode`;

# ALTER TABLE `companies` ADD `country_id` INT NULL AFTER `postal_code`;

# ALTER TABLE `messages` ADD INDEX( `agent_id`);

# ALTER TABLE `email_template_user` ROW_FORMAT = COMPACT;

# ALTER TABLE `email_template_user` CHANGE `agent_id` `user_id` INT(11) NOT NULL;

# ALTER TABLE `users` ADD `twitter` VARCHAR(200) NULL AFTER `password`, ADD `linkedin` VARCHAR(200) NULL AFTER `twitter`, ADD `facebook` VARCHAR(200) NULL AFTER `linkedin`, ADD `website` VARCHAR(200) NULL AFTER `facebook`;

# ALTER TABLE `users` ADD `image` VARCHAR(100) NULL AFTER `website`;

# ALTER TABLE `provinces` ADD `abbreviation` VARCHAR(10) NULL AFTER `name`;

# CREATE TABLE `udistro`.`street_types` ( `id` INT NOT NULL AUTO_INCREMENT , `type` VARCHAR(100) NOT NULL , `status` ENUM('0','1', '2') NOT NULL COMMENT '0: Inactive, 1: Active, 2: Deleted' , `created_at` DATETIME NOT NULL , `created_by` INT NOT NULL , `updated_at` TIMESTAMP NOT NULL , `updated_by` INT NULL , PRIMARY KEY (`id`)) ENGINE = InnoDB;


-----------------------------------------------------------------------------------------------------------------------------------------------------

# ALTER TABLE `agent_client_moving_from_addresses` CHANGE `unit` `unit_type` VARCHAR(20) CHARACTER SET latin1 COLLATE latin1_swedish_ci NOT NULL;

# ALTER TABLE `agent_client_moving_from_addresses` ADD `unit_no` INT NOT NULL AFTER `unit_type`;

# ALTER TABLE `agent_client_moving_to_addresses` CHANGE `unit` `unit_type` VARCHAR(20) CHARACTER SET latin1 COLLATE latin1_swedish_ci NOT NULL;

# ALTER TABLE `agent_client_moving_to_addresses` ADD `unit_no` INT NOT NULL AFTER `unit_type`;